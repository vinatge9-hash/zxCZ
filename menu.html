<!--  -->
<!--  -->
<!doctype html>
<html lang="en">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:300,400,500,600,700&family=Inter:300,400,500,600,700&display=swap" rel="stylesheet">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Niyantri Coffee - Menu</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root { --coffee-primary: #6f4e37; --coffee-cream: #f8f2e9; --coffee-accent: #d19f51; }
      body { font-family: 'Inter', sans-serif; }
      h1, h2 { font-family: 'Merriweather', serif; }
    </style>
  </head>
  <body style="font-family: 'Merriweather', sans-serif;" class="min-h-screen bg-cream-100">
    <header class="w-full bg-cover bg-center" style="background-image: linear-gradient(to right, rgba(111,78,55,.95), rgba(111,78,55,.75));">
      <nav class="max-w-full px-4 py-4 flex items-center justify-between text-white">
        <div class="text-xl font-semibold tracking-wide">Niyantri Coffee</div>
        <ul class="flex space-x-6">
          <li><a href="./index.html" class="hover:underline">Home</a></li>
          <li><a href="./menu.html" class="hover:underline">Menu</a></li>
          <li><a href="./cart.html" class="hover:underline">Cart</a></li>
          <li><a href="./checkout.html" class="hover:underline">Checkout</a></li>
          <li><a href="./about.html" class="hover:underline">About</a></li>
          <li><a href="./contact.html" class="hover:underline">Contact</a></li>
        </ul>
      </nav>
    </header>

    <main class="w-full px-6 py-12">
      <section class="max-w-full mx-auto text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold">Our Menu</h1>
        <p class="text-sm">Curated coffees and fresh pastries. Add items to your cart to begin checkout.</p>
      </section>

      <section id="menu-grid" class="grid grid-cols-1 md:grid-cols-3 gap-6"></section>
    </main>

    <footer class="w-full py-6 text-center text-sm text-gray-600 bg-gray-100">
      Â© 2025 Niyantri Coffee. All rights reserved.
    </footer>

    <script>
      // Mock API data and simple client-side cart
      const mockMenu = [
        { id: 1, name: 'Espresso', price: 3.5, description: 'Rich and bold single shot.', image: 'https://pixabay.com/get/g89acde8958b0d8cea312327334be5fc0569d8b4fd6f363226dc421eb5bdf952d4cabf19e3936803ad441970f2eef95b1a07d008948f085a9f843da0c0c1a7884_640.jpg' },
        { id: 2, name: 'Caffe Latte', price: 4.5, description: 'Milk-forward with a silky texture.', image: 'https://images.pexels.com/photos/531770/pexels-photo-531770.jpeg?auto=compress&cs=tinysrgb&h=650&w=940' },
        { id: 3, name: 'Cappuccino', price: 4.0, description: 'Espresso, steamed milk, foam crown.', image: 'https://images.pexels.com/photos/685527/pexels-photo-685527.jpeg?auto=compress&cs=tinysrgb&h=650&w=940' },
        { id: 4, name: 'Cold Brew', price: 4.25, description: 'Smooth, chocolatey finish.', image: 'https://pixabay.com/get/ga8ff214f0febbdec6b05afe8713b095a050d8387044a42cc3fe078c55310c276f406fa585353442bb82f15b20a82fe37c56eddb227c2cb14c7244bf39b6eb6ae_640.jpg' },
        { id: 5, name: 'Americano', price: 3.75, description: 'Espresso diluted with hot water.', image: 'https://pixabay.com/get/g53599498351073cdf55504b5728ea35db5851b50e67128b6c8595fef5e6d6c3d3df44074b0201663e34ad956f8503b66_640.jpg' },
        { id: 6, name: 'Mocha', price: 5.0, description: 'Espresso, chocolate, and cream.', image: 'https://images.unsplash.com/photo-1709295014988-dc02067dfd36?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3ODkyNDZ8MHwxfHNlYXJjaHwzfHxtb2NoYSUyMHdpdGglMjB3aGlwcGVkJTIwY3JlYW18ZW58MHwwfHx8MTc1NjQ0NTUyMXww&ixlib=rb-4.1.0&q=80&w=1080' }
      ];

      function apiFetch(url) {
        return new Promise((resolve) => {
          setTimeout(() => {
            if (url === '/api/menu') resolve(mockMenu);
            else resolve([]);
          }, 300);
        });
      }

      function addToCart(item) {
        const cartRaw = localStorage.getItem('nyan_cart');
        let cart = cartRaw ? JSON.parse(cartRaw) : [];
        const existing = cart.find(i => i.id === item.id);
        if (existing) existing.qty += 1; else cart.push({ id: item.id, name: item.name, price: item.price, qty: 1, image: item.image });
        localStorage.setItem('nyan_cart', JSON.stringify(cart));
        alert('Added to cart: ' + item.name);
      }

      function renderMenu(items) {
        const grid = document.getElementById('menu-grid');
        grid.innerHTML = '';
        items.forEach(it => {
          const card = document.createElement('div');
          card.className = 'bg-white rounded-lg shadow p-4 flex flex-col';
          card.innerHTML = `
            <div class="h-40 w-full bg-gray-100 mb-4 flex items-center justify-center" title="${it.name}">
              <span class="text-sm text-gray-500">${it.image}</span>
            </div>
            <h3 class="font-semibold text-lg mb-2">${it.name}</h3>
            <p class="text-sm text-gray-700 mb-4">${it.description}</p>
            <div class="mt-auto flex items-center justify-between">
              <span class="font-semibold">$${it.price.toFixed(2)}</span>
              <button class="bg-coffee-primary text-white px-3 py-2 rounded" data-id="${it.id}">Add</button>
            </div>
          `;
          grid.appendChild(card);
        });
        // Attach handlers
        grid.querySelectorAll('button[data-id]').forEach(btn => {
          btn.addEventListener('click', () => {
            const id = parseInt(btn.getAttribute('data-id'));
            const item = items.find(i => i.id === id);
            if (item) addToCart(item);
          });
        });
      }

      // init
      (async function init() {
        const items = await apiFetch('/api/menu');
        renderMenu(items);
      })();
    </script>
  </body>
</html>